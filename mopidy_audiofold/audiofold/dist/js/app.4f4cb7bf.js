(function(t){function e(e){for(var n,s,c=e[0],o=e[1],u=e[2],p=0,d=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/audiofold/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2c08":function(t,e,a){"use strict";var n=a("7477"),r=a.n(n);r.a},"39a7":function(t,e,a){"use strict";var n=a("45b0"),r=a.n(n);r.a},"3c49":function(t,e,a){"use strict";var n=a("ae1b"),r=a.n(n);r.a},"45b0":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s={data:function(){return{connected:!1}},mounted:function(){var t=this;this.$mopidy.on("state:online",(function(){t.connected=!0}))}},c=s,o=(a("5c0b"),a("2877")),u=a("6544"),l=a.n(u),p=a("7496"),d=Object(o["a"])(c,r,i,!1,null,null,null),v=d.exports;l()(d,{VApp:p["a"]});var f=a("2cde"),m=a.n(f),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-form"},[a("v-text-field",{attrs:{placeholder:"Search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),a("v-btn",{on:{click:function(e){return t.search(t.searchTerm)}}},[t._v(" Search ")]),a("v-tabs",[a("v-tab",[t._v(" Tracks ")]),a("v-tab-item",t._l(t.searchResults,(function(t){return a("search-result",{key:t.uri,attrs:{result:t,"result-type":"tracks"}})})),1),a("v-tab",[t._v(" Artists ")]),a("v-tab-item",t._l(t.searchResults,(function(t){return a("search-result",{key:t.uri,attrs:{result:t,"result-type":"artists"}})})),1),a("v-tab",[t._v(" Albums ")]),a("v-tab-item",t._l(t.searchResults,(function(t){return a("search-result",{key:t.uri,attrs:{result:t,"result-type":"albums"}})})),1)],1)],1)},y=[],h=(a("ac1f"),a("841c"),{methods:{updateQueue:function(){var t=this;t.$mopidy.tracklist.getTlTracks().then((function(e){t.$store.commit("setQueue",e)})).catch((function(t){console.log(t)})),t.$mopidy.tracklist.index().then((function(e){t.$store.commit("setQueuePosition",e)})).catch((function(t){console.log(t)}))},clearQueue:function(){this.$mopidy.tracklist.clear(),this.updateQueue()},addToQueue:function(t){this.$mopidy.tracklist.add(t),"playing"!=this.$store.getters.playbackState&&this.$mopidy.playback.play(),this.updateQueue()}}}),k={mixins:[h],data:function(){return{searchResults:[],searchTerm:""}},methods:{search:function(t){var e=this,a={any:[t]};this.$mopidy.library.search({query:a,exact:!1}).then((function(t){console.log(t),e.searchResults=t}))}}},_=k,g=a("8336"),P=a("71a3"),x=a("c671"),$=a("fe57"),C=a("8654"),S=Object(o["a"])(_,b,y,!1,null,null,null),w=S.exports;l()(S,{VBtn:g["a"],VTab:P["a"],VTabItem:x["a"],VTabs:$["a"],VTextField:C["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playback-wrapper"},[a("div",{staticClass:"playback-nav"},[a("v-btn",{staticClass:"navBtn",attrs:{id:"queueBtn",to:{name:"Queue"},tile:""}},[t._v(" Q ")]),a("v-btn",{staticClass:"navBtn",attrs:{id:"searchBtn",tile:"",to:{name:"Search"}}},[a("v-icon",[t._v("mdi-magnify")])],1)],1),a("div",{staticClass:"playback-view"},[a("div",{staticClass:"img-wrapper wraptocenter"},[t.imgSrc?a("v-img",{attrs:{id:"album-art",src:t.imgSrc,height:"66vw",contain:""}}):t._e()],1)]),a("div",{staticClass:"playback-control"},[t.currentTrack?a("div",{staticClass:"track-info"},[a("div",{staticClass:"info-track"},[t._v(" "+t._s(t.currentTrack.track.name.toLowerCase())+" ")]),a("div",{staticClass:"info-artist"},[t._v(" "+t._s(t.currentTrack.track.artists[0].name.toLowerCase())+" ")])]):t._e(),a("div",{staticClass:"track-progress"},[t.currentTrack?a("v-slider",{attrs:{value:t.$store.getters.playbackPosition,min:"0",max:t.currentTrack.track.length,color:"white","track-color":"black","always-dirty":""},on:{change:t.seek},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("span",{staticClass:"v-center"},[t._v(" "+t._s(t.minutes(t.$store.getters.playbackPosition))+":"+t._s(t.seconds(t.$store.getters.playbackPosition))+" ")])]},proxy:!0},{key:"append",fn:function(){return[t.currentTrack?a("span",{staticClass:"v-center"},[t._v(" "+t._s(t.minutes(t.currentTrack.track.length))+":"+t._s(t.seconds(t.currentTrack.track.length))+" ")]):t._e()]},proxy:!0}],null,!1,3559829766)}):t._e()],1),a("div",{staticClass:"track-controls"},[a("div",{staticClass:"control-prev-spacer"}),a("div",{staticClass:"control-prev"},[a("v-btn",{attrs:{id:"prev-btn",fab:""},on:{click:t.prev}},[a("v-icon",[t._v("mdi-skip-previous")])],1)],1),a("div",{staticClass:"control-pause"},["playing"==t.playbackState?a("v-btn",{attrs:{id:"pause-btn",fab:""},on:{click:t.pause}},[a("v-icon",[t._v("mdi-pause")])],1):a("v-btn",{attrs:{id:"pause-btn",fab:""},on:{click:t.play}},[a("v-icon",[t._v("mdi-play")])],1)],1),a("div",{staticClass:"control-next"},[a("v-btn",{attrs:{id:"next-btn",fab:""},on:{click:t.next}},[a("v-icon",[t._v("mdi-skip-next")])],1)],1),a("div",{staticClass:"control-next-spacer"})])])])},O=[],q=(a("a15b"),a("b0c0"),a("d3b7"),{methods:{updatePlaybackState:function(){var t=this;t.$mopidy.playback.getState().then((function(e){t.$store.commit("setPlaybackState",e)})).catch((function(t){console.log(t)}))},updatePlaybackPosition:function(){var t=this;t.$mopidy.playback.getTimePosition().then((function(e){t.$store.commit("setPlaybackPosition",e)})).catch((function(t){console.log(t)}))},updateAll:function(){var t=this;t.updateQueue(),t.updatePlaybackState(),t.updatePlaybackPosition()}},mounted:function(){var t=this;this.$mopidy.on("state:online",(function(){t.updateAll()})),this.$mopidy.on("event:trackPlaybackStarted",(function(){t.updateAll()})),this.$mopidy.on("event:trackPlaybackResumed",(function(){t.updateAll()})),this.$mopidy.on("event:trackPlaybackPaused",(function(){t.updateAll()}))},computed:{currentTrack:function(){return this.$store.getters.queue[this.$store.getters.queuePosition]},playbackState:function(){return this.$store.getters.playbackState}},asyncComputed:{imgSrc:function(){var t=this;return new Promise((function(e,a){var n=t.currentTrack;n&&t.$mopidy.library.getImages({uris:[n.track.uri]}).then((function(t){e(t[n.track.uri][1].uri)})).catch((function(t){a(t)}))}))}}}),V={mixins:[q,h],methods:{play:function(){this.$mopidy.playback.play(),this.updateAll()},pause:function(){this.$mopidy.playback.pause(),this.updateAll()},prev:function(){this.$mopidy.playback.previous(),this.play(),this.updateAll()},next:function(){this.$mopidy.playback.next(),this.play(),this.updateAll()},seek:function(t){this.$mopidy.playback.seek({time_position:t}),this.updateAll()}}},j={mixins:[V,h],data:function(){return{progressPoll:null}},computed:{currentArtists:function(){for(var t=this.currentTrack.track.artists,e=t[0].name,a=1;a<t.length;a++)e+=", "+t[a].name;return e}},mounted:function(){this.progress=this.$store.getters.playbackPosition},beforeDestroy:function(){clearInterval(this.progressPoll)},created:function(){this.setupPoll()},methods:{setupPoll:function(){var t=this;this.progressPoll=setInterval((function(){"playing"==t.playbackState&&t.updatePlaybackPosition()}),1e3)},printTrack:function(){console.log(this.currentTrack)},minutes:function(t){return Math.floor(t/1e3/60)},seconds:function(t){return this.pad(Math.floor(t/1e3%60),2)},pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t}}},Q=j,A=(a("2c08"),a("132d")),E=a("adda"),I=a("ba0d"),L=Object(o["a"])(Q,T,O,!1,null,"b7ae39ec",null),B=L.exports;l()(L,{VBtn:g["a"],VIcon:A["a"],VImg:E["a"],VSlider:I["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(t._s(t.provider))]),a("v-expansion-panel-content",[t.result.tracks&&"tracks"==t.resultType?a("v-card",[a("v-list",[a("v-list-item-group",t._l(t.result.tracks,(function(e){return a("v-list-item",{key:e.uri,on:{click:function(a){return t.addToQueue({uris:[e.uri]})}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1):t._e(),t.result.artists&&"artists"==t.resultType?a("v-card",[a("v-list",t._l(t.result.artists,(function(e){return a("v-list-item",{key:e.uri},[t._v(" "+t._s(e.name)+" ")])})),1)],1):t._e(),t.result.albums&&"albums"==t.resultType?a("v-card",[a("v-list",t._l(t.result.albums,(function(e){return a("v-list-item",{key:e.uri},[t._v(" "+t._s(e.name)+" ")])})),1)],1):t._e()],1)],1)],1)],1)},R=[],G=(a("c975"),{mixins:[h],props:{result:{type:Object,default:function(){return{}}},resultType:{type:String,default:function(){return""}}},computed:{provider:function(){var t="Other";return-1!=this.result.uri.indexOf("spotify")?t="Spotify":1!=this.result.uri.indexOf("soundcloud")&&(t="Soundcloud"),t}}}),J=G,D=a("b0af"),F=a("cd55"),H=a("49e2"),U=a("c865"),z=a("0393"),K=a("8860"),N=a("da13"),W=a("1baa"),X=Object(o["a"])(J,M,R,!1,null,null,null),Y=X.exports;l()(X,{VCard:D["a"],VExpansionPanel:F["a"],VExpansionPanelContent:H["a"],VExpansionPanelHeader:U["a"],VExpansionPanels:z["a"],VList:K["a"],VListItem:N["a"],VListItemGroup:W["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{style:{background:"none",top:t.queueOffset+"vh",position:"relative"}},[a("v-list-item-group",t._l(t.$store.getters.queue,(function(e){return a("v-list-item",{key:e.tlid,class:t.queueItemClass(t.$store.getters.queuePosition,e.tlid-1)},[a("div",{staticClass:"queue-info"},[a("div",{staticClass:"queue-title"},[t._v(" "+t._s(e.track.name.toLowerCase())+" ")]),a("div",{staticClass:"queue-artist"},[t._v(" "+t._s(e.track.artists[0].name.toLowerCase())+" ")])])])})),1)],1)},tt=[],et=a("ade3"),at={mixins:[V,h],computed:{queueOffset:function(){return-10*this.$store.getters.queuePosition+20}},mounted:function(){var t=this;this.$mopidy.on("state:online",(function(){t.updateQueue(),t.updatePlaybackState()})),this.$mopidy.on("event:trackPlaybackStarted",(function(){t.updateQueue(),t.updatePlaybackState()}))},methods:{queueItemClass:function(t,e){var a,n=0,r="queued";t==e&&(r="active");var i=e-t;return i<-2&&(n=100),-2==i&&(n=75),-1==i&&(n=50),i>2&&(n=25*(i-2)),n=Math.abs(n),n>100&&(n=100),a={},Object(et["a"])(a,"tr-"+n,!0),Object(et["a"])(a,r,!0),Object(et["a"])(a,"queue-item",!0),a}}},nt=at,rt=(a("3c49"),Object(o["a"])(nt,Z,tt,!1,null,"28323e88",null)),it=rt.exports;l()(rt,{VList:K["a"],VListItem:N["a"],VListItemGroup:W["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"mini-playback",attrs:{to:{name:"Playback"},tag:"div"}},[a("div",{staticClass:"col-img"},[t.imgSrc?a("img",{staticClass:"mini-playback-img",attrs:{src:t.imgSrc}}):t._e()]),t.currentTrack?a("div",{staticClass:"col-info"},[a("div",{staticClass:"info-track"},[t._v(" "+t._s(t.currentTrack.track.name.toLowerCase())+" ")]),a("div",{staticClass:"info-artist"},[t._v(" "+t._s(t.currentTrack.track.artists[0].name.toLowerCase())+" ")])]):t._e(),a("div",{staticClass:"col-pause"},["playing"==t.playbackState?a("v-btn",{attrs:{fab:""},on:{click:function(e){return e.stopPropagation(),t.pause(e)}}},[a("v-icon",[t._v(" mdi-pause ")])],1):a("v-btn",{attrs:{fab:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[a("v-icon",[t._v(" mdi-play ")])],1)],1)])},ct=[],ot={mixins:[h,V]},ut=ot,lt=(a("dd8d"),Object(o["a"])(ut,st,ct,!1,null,"44da09c0",null)),pt=lt.exports;l()(lt,{VBtn:g["a"],VIcon:A["a"]});var dt=a("2f62");n["a"].use(dt["a"]);var vt=new dt["a"].Store({state:{playbackState:"",playbackPosition:0,queue:[],queuePosition:0},mutations:{setPlaybackState:function(t,e){t.playbackState=e},setPlaybackPosition:function(t,e){t.playbackPosition=e},setQueue:function(t,e){t.queue=e},setQueuePosition:function(t,e){t.queuePosition=e}},getters:{playbackState:function(t){return t.playbackState},playbackPosition:function(t){return t.playbackPosition},queue:function(t){return t.queue},queuePosition:function(t){return t.queuePosition}}}),ft=a("f309");n["a"].use(ft["a"]);var mt=new ft["a"]({}),bt=a("8c4f"),yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"queue"},[a("v-container",[a("v-row",{attrs:{id:"playback-min"}},[a("v-col",[a("div",{staticClass:"queue-container"},[a("queue",{staticStyle:{margin:"5vw 6.25vw",padding:"0px"}})],1)])],1)],1),a("div",{staticClass:"mini-playback-wrapper"},[a("mini-playback")],1)],1)},ht=[],kt=(a("39a7"),a("62ad")),_t=a("a523"),gt=a("0fd9"),Pt={},xt=Object(o["a"])(Pt,yt,ht,!1,null,"5ad284b8",null),$t=xt.exports;l()(xt,{VCol:kt["a"],VContainer:_t["a"],VRow:gt["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("playback")},St=[],wt={},Tt=Object(o["a"])(wt,Ct,St,!1,null,null,null),Ot=Tt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("search")},Vt=[],jt={},Qt=Object(o["a"])(jt,qt,Vt,!1,null,null,null),At=Qt.exports;n["a"].use(bt["a"]);var Et=[{path:"/",name:"Playback",component:Ot},{path:"/queue",name:"Queue",component:$t},{path:"/search",name:"Search",component:At}],It=new bt["a"]({mode:"history",base:"/audiofold/",routes:Et}),Lt=It,Bt=a("3003");n["a"].component("search",w),n["a"].component("playback",B),n["a"].component("search-result",Y),n["a"].component("queue",it),n["a"].component("mini-playback",pt);var Mt=new m.a({webSocketUrl:"ws://192.168.0.37:6680/mopidy/ws/"});Object.defineProperty(n["a"].prototype,"$mopidy",{value:Mt}),n["a"].use(Bt["a"]),n["a"].config.productionTip=!1,new n["a"]({store:vt,vuetify:mt,router:Lt,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("7694"),r=a.n(n);r.a},7477:function(t,e,a){},7694:function(t,e,a){},ae1b:function(t,e,a){},bc9a:function(t,e,a){},dd8d:function(t,e,a){"use strict";var n=a("bc9a"),r=a.n(n);r.a}});
//# sourceMappingURL=app.4f4cb7bf.js.map